# üì¶ Ecommerce Backend ‚Äî Comisi√≥n 85460

**Pre-Entrega N¬∞1 ‚Äî Backend 2 (Coderhouse)**  
Desarrollado por: [**Gonzalo Veglio**](https://www.linkedin.com/in/gonzalo-nahuel-veglio/)

---

## üöÄ Descripci√≥n

Este proyecto implementa un **CRUD de usuarios** junto con un sistema de **autenticaci√≥n y autorizaci√≥n** utilizando **Passport** y **JWT**, siguiendo la estructura de un backend para ecommerce.

Incluye:
- Modelo `User` con campos requeridos y referencia a `Cart`.
- Contrase√±a encriptada con **bcrypt**.
- Estrategia **passport-local** para login.
- Estrategia **passport-jwt** para rutas protegidas.
- Sistema de login que genera un **token JWT**.
- Endpoint `/api/sessions/current` protegido.
- **Vistas frontend**: login, registro y usuario actual, desarrolladas en HTML y CSS moderno.

---
 
## ‚öôÔ∏è Tecnolog√≠as utilizadas

- ![Node.js](https://img.shields.io/badge/-Node.js-339933?logo=node.js&logoColor=white) **Node.js**
- ![Express](https://img.shields.io/badge/-Express.js-000000?logo=express&logoColor=white) **Express**
- ![MongoDB](https://img.shields.io/badge/-MongoDB-47A248?logo=mongodb&logoColor=white) **MongoDB** + **Mongoose**
- ![Passport](https://img.shields.io/badge/-Passport.js-34E27A?logo=passport&logoColor=white) **Passport**, **passport-local**, **passport-jwt**
- üîí **bcrypt**, **jsonwebtoken**
- ‚öôÔ∏è **dotenv**
- üé® **HTML5** y **CSS3** para las vistas de login, registro y usuario actual

---

## üìÅ Estructura base

```
/public
  index.html
  login.html
  register.html       
  current.html        
  users.html
  css/
    style.css         
/src
  config/
  controllers/
  models/
  routes/
server.js 
.env
README.MD
package.json
```

Las vistas principales incluidas son:
- **login.html**: formulario de inicio de sesi√≥n
- **register.html**: formulario de registro de usuario
- **current.html**: muestra los datos del usuario autenticado
- **users.html**: muestra todos los usuario de la base de datos

---

## üì¶ Instalaci√≥n

1. Clon√° el repositorio:  
   `git clone https://github.com/GonzaloNahuelVeglio/backend-ecommerce-85460`

2. Instal√° dependencias:  
   `npm install`

3. Configur√° tu archivo `.env`:
   ```
   MONGO_URI=<TU_URI_DE_MONGO>
   JWT_SECRET=<TU_SECRETO>
   PORT=8080
   ```

4. Para correr el servidor:  
   `npm run dev`

---

## üîë Pruebas principales (Postman)

### Crear usuario (registro)
- **POST** `/api/users`
- Body: `{ first_name, last_name, email, age, password }`

### Login de usuario
- **POST** `/api/sessions/login`
- Body: `{ email, password }`
- Respuesta: `{ token }`

### Obtener usuario actual (requiere JWT)
- **GET** `/api/sessions/current`
- Header: `Authorization: Bearer <token>`

### CRUD de usuarios (requiere JWT)

- **GET** `/api/users`  
  Lista todos los usuarios (protegido).

- **GET** `/api/users/:uid`  
  Obtiene un usuario por ID (no protegido).

- **PUT** `/api/users/:uid`  
  Actualiza un usuario por ID (protegido).

- **DELETE** `/api/users/:uid`  
  Elimina un usuario por ID (protegido).

---

## ‚ö° Autor

[Gonza Veglio](https://github.com/GonzaloNahuelVeglio)
Comisi√≥n 85460 ‚Äî Backend 2 ‚Äî Coderhouse